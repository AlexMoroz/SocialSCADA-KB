<div ng-controller="createToDoListCtrl as ctrl" layout="column" ng-cloak
     class="md-inline-form">
    <div class="ui red message" style="display: none;" id="errorMessage">
        Error while saving ToDoList
    </div>
    <div class="ui green message" style="display:none" id="successMessage">
        Success
    </div>
    <div layout="row" layout-wrap>
        <div flex>
        </div>
        <div flex-lg="80" flex-md="80" flex-sm="80" flex-gt-lg="80">
            <md-content layout-padding layout="column" layout-sm="column">
                <md-input-container>
                    <label>Sensor</label>
                    <md-select ng-model="sensor">
                        <md-option ng-repeat="sensor in ctrl.sensors" value="{{sensor}}">
                            {{sensor}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <label>Alarmtype</label>
                    <md-select ng-model="alarmtype">
                        <md-option ng-repeat="alarmtype in ctrl.alarmtypes" value="{{alarmtype}}">
                            {{alarmtype}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <label>User</label>
                    <md-select ng-model="user">
                        <md-option ng-repeat="user in ctrl.users" value="{{user}}">
                            {{user}}
                        </md-option>
                    </md-select>
                </md-input-container>
            </md-content>
            <h4>ToDos</h4>
            <table class="ui celled table" ng-show="toDoList.todos.length">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="toDo in toDoList.todos track by $index">
                    <td>{{toDo.name}}</td>
                    <td>{{toDo.description}}</td>
                </tr>
                </tbody>
            </table>
            <p ng-show="!toDoList.todos.length">
                No ToDos
            </p>
            <md-button class="md-raised" ng-click="showAdvanced($event)">Add ToDo</md-button>
            <md-button class="md-raised md-primary" ng-click="submit()">Save</md-button>

        </div>

        <div flex>
        </div>
    </div>
</div>

<script type="text/ng-template" id="dialog.tmpl.html">
    <md-dialog aria-label="Mango (Fruit)" ng-cloak flex="50">
        <form>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2>Add ToDo</h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <md-icon md-svg-src="/public/img/icons/ic_close_24px.svg"
                                 aria-label="Close dialog"></md-icon>
                    </md-button>
                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">
                    <md-input-container>
                        <label>Name</label>
                        <input type="text" ng-model="newToDo.name">
                    </md-input-container>
                    <md-input-container class="md-block">
                        <label>Description</label>
                        <textarea ng-model="newToDo.description" columns="1" rows="5"></textarea>
                    </md-input-container>
                </div>
                <md-dialog-actions layout="row">
                    <span flex></span>
                    <md-button class="md-raised md-primary" ng-click="addToDo(newToDo)" style="margin-right:20px;">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
    </md-dialog>
</script>
